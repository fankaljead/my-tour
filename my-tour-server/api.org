* 接口字典                                                              :TOC:
  - [[#user][User]]
  - [[#travel-note-旅游足迹][Travel Note 旅游足迹]]
  - [[#image-图片][Image 图片]]

** User 
   - 获取所有用户
     - /user
     - method: get
       #+BEGIN_SRC json
         {
           "length": 4,
           "users": [
             {
               "id": 1,
               "username": "curry",
               "password": "30"
             },
             {
               "id": 2,
               "username": "harden",
               "password": "13"
             },
             {
               "id": 3,
               "username": "zhou",
               "password": "21"
             },
             {
               "id": 4,
               "username": "james",
               "password": "30"
             }
           ]
         }
      #+END_SRC
   - 登录
     - /user/login
     - method: get
     - params: username, password
     - return:
      |   0 | 用户不存在 |
      | >=1 | 用户 id    |
      |  -1 | 密码错误   |
   - 用户注册
     - /user
     - method: post
     - params: username, password
     - return: user_id
   - 获取用户信息
     - /user/:uid
     - method: get
     - params: uid
     - return: user
   - 修改用户信息
     - /user/:uid
     - method: put
     - params: uid, user
     - return: 1 0
   - 删除用户
     - /user/:uid
     - method: delete
     - params: uid
     - return: 1 0
   - 退出登录
     - /user/logout
     - method: get
     - return 1 0
** Travel Note 旅游足迹
   - 新增路线
   - /travel_note/add_travel_routine
     - method: post
     - params:
       - name 路线名称
       - descirption 路线描述
     - return: id 新建的旅游路线 id
   - 获取全部路线
   - /travel_note/get_travel_routines
     - method: get
     - params:
       - index: 页码
       - pageSize: 每页大小
     - return: routine_list 所有路线列表
   - 删除旅行路线
     - /travel_note/delete_travel_routine
     - params: id 旅行路线 id
     - return: num 删除是否成功
   - 新增旅游记录
     - /travel_note
     - method: post
     - params:
       - title: 名称
       - image_ids: 图片 ids
       - publish_time: 时间
       - city: 城市
       - routine_id: 路线 id
       - content: 内容
     - return: id 新增的 travel note id
   - 通过 id 获取旅行记录
   - /travel_note/:travel_note_id
     - method: get
     - params: travel_note_id
     - return: travel note 对象
   - 获取全部 travel note info
     - /travel_note/getAllTravelNoteInfo
     - method: get
     - return: all travel note info 所有旅行记录信息
** Image 图片
   - 上传图片
   - /image
     - method: post
     - params: file
     - return: image_id
   - 删除图片
   - /image
     - method: delete
     - params: image_id
     - return: rows_affect_num 是否删除
   - 获取多张图片
   - /image/getImagesByIds
     - method: get
     - params: image_id list 图片 id 列表
     - return: Image list 图片结构数组
   - 获取单张图片
   - /image/getImageById
     - method: get
     - params: image_id  图片 id 
     - return: Image  图片结构
